# 组件库方案

## 两个项目重用组件

项目拆分

- 编辑器
- H5
- 组件库
  - 编码
  - 测试
  - 打包
  - 发布到NPM
  - CI/CD自动发布

### 原则

业务组件库大多数都是展示型组件，其实就是把对应的template加上属性(大部分是
css属性)展示出来，会有少量行为，比如点击跳转等，而且这些组件会在多个不同的
端进行展示，**所以业务组件库就是从简的原则，必须避免和编辑器编辑流程的耦合**。

### 组件命名

使用一个字母(L 代表乐高)加组件的名称:比如EText或者I-text

## 组件属性设计

从需求可以的得知: https://www.yuque.com/ imooc-lego/ zlz87z/whhax9组件的属
性和这些可以编辑的属性很自然的一一对应的结果。对于每一个组件，它们需求中的属
性其实可以分为两大类。

- 样式属性
- 其他属性

```js
// 方案一： 把CSS作为统一的对象传入
<Ltext
  css={{color:'#fff'}}
  text="hello"
/>
<p style={props.css}></p>

// 方案二：将所有属性全部平铺传入
<Ltext
  text="hello"
  color:'#fff'
  ...
/>
const styles = stylePick(props)
<p style={styles}></p>

import useClick from 'useClick'
useClick(props)

// 方案一内部实现简单，但是保存的时候要多一层结构，并且更新数据的时候要区分样式属性与其他属性
// 方案二内部实现复杂，但保存与更新数据时候简单，不需要辨别
```

这些组件目前有一些共有的属性，称之为公共属性。提到公共属性我们就要注意代码重
用的问题。



## 组件的扩展性保持

在编辑器与表单中的适配

